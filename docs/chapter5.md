# Chapter 5: 2-íŒ¨ë„ ë ˆì´ì•„ì›ƒê³¼ ë¯¸ë¦¬ë³´ê¸°

ì´ë²ˆ ì±•í„°ì—ì„œëŠ” Chapter 4ì˜ GUIë¥¼ ë°”íƒ•ìœ¼ë¡œ **ì „ë¬¸ì ì¸ 2-íŒ¨ë„ ë ˆì´ì•„ì›ƒ**<!-- -->ê³¼ **ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°**<!-- --> ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤. ìµœì¢… KRenamerì™€ ìœ ì‚¬í•œ êµ¬ì¡°ë¡œ ë°œì „ì‹œì¼œ ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•´ë³´ê² ìŠµë‹ˆë‹¤.

## ğŸ¯ í•™ìŠµ ëª©í‘œ

- **2-íŒ¨ë„ ë ˆì´ì•„ì›ƒ**<!-- -->ìœ¼ë¡œ ì „ë¬¸ì ì¸ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
- **ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°**<!-- -->ë¡œ ì•ˆì „ì„±ê³¼ í¸ì˜ì„± í™•ë³´
- **íŒŒì¼ ê´€ë¦¬ ì—”ì§„**<!-- --> ë¶„ë¦¬ë¡œ ì½”ë“œ êµ¬ì¡° ê°œì„ 
- **ìƒíƒœ ê´€ë¦¬**<!-- -->ì™€ **ë°ì´í„° íë¦„**<!-- --> ìµœì í™”
- ìµœì¢… KRenamer ìˆ˜ì¤€ì˜ ì™„ì„±ë„ ë‹¬ì„±

## ğŸ—ï¸ Chapter 4ì—ì„œ Chapter 5ë¡œì˜ ë°œì „

### êµ¬ì¡°ì  ë³€í™”

| ì¸¡ë©´ | Chapter 4 | Chapter 5 |
|------|-----------|------------|
| ë ˆì´ì•„ì›ƒ | ë‹¨ì¼ íŒ¨ë„ ì„¸ë¡œ ë°°ì¹˜ | 2-íŒ¨ë„ ì¢Œìš° ë¶„í•  |
| ë¯¸ë¦¬ë³´ê¸° | ë³„ë„ ì°½/í…ìŠ¤íŠ¸ í˜•íƒœ | ì‹¤ì‹œê°„ í…Œì´ë¸” í˜•íƒœ |
| ì½”ë“œ êµ¬ì¡° | GUIì™€ ë¡œì§ í˜¼ì¬ | ì—”ì§„ê³¼ GUI ë¶„ë¦¬ |
| ë°ì´í„° íë¦„ | ìˆ˜ë™ ì—…ë°ì´íŠ¸ | ìë™ ì‹¤ì‹œê°„ ë™ê¸°í™” |
| ì‚¬ìš©ì ê²½í—˜ | ê¸°ë³¸ì  | ì „ë¬¸ì  |

## ğŸš€ Step-by-Step ê°œë°œ ê³¼ì •

### ì´ë²ˆ ì±•í„°ì—ì„œ êµ¬í˜„í•  5ë‹¨ê³„

1. **Step 1**: íŒŒì¼ ê´€ë¦¬ ì—”ì§„ ì„¤ê³„ì™€ êµ¬í˜„
2. **Step 2**: 2-íŒ¨ë„ ë ˆì´ì•„ì›ƒ ê¸°ë³¸ êµ¬ì¡°
3. **Step 3**: ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ì‹œìŠ¤í…œ
4. **Step 4**: ê³ ê¸‰ UI ê°œì„ ê³¼ ì¸í„°ë™ì…˜
5. **Step 5**: ì™„ì„±ëœ ì „ë¬¸ì  ì¸í„°í˜ì´ìŠ¤

## ğŸ’¡ ì´ë²ˆ ì±•í„°ì—ì„œ ë°°ìš¸ í•µì‹¬ ê°œë…

### ì•„í‚¤í…ì²˜ ì„¤ê³„ ì›ì¹™

1. **ê´€ì‹¬ì‚¬ ë¶„ë¦¬**: GUIì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì™„ì „íˆ ë¶„ë¦¬
2. **ë°ì´í„° ë°”ì¸ë”©**: GUIì™€ ì—”ì§„ ê°„ ì‹¤ì‹œê°„ ë™ê¸°í™”
3. **ì´ë²¤íŠ¸ ì¤‘ì‹¬ ì„¤ê³„**: ì‚¬ìš©ì ì…ë ¥ì— ë”°ë¥¸ ìë™ ì—…ë°ì´íŠ¸
4. **ìƒíƒœ ê´€ë¦¬**: ì¼ê´€ì„± ìˆëŠ” ë°ì´í„° íë¦„ ë³´ì¥

### 2-íŒ¨ë„ ë ˆì´ì•„ì›ƒ ì„¤ê³„ ì›ì¹™

1. **ê³µê°„ íš¨ìœ¨ì„±**: ì¢Œìš° ë¶„í• ë¡œ í™”ë©´ ê³µê°„ ìµœëŒ€ í™œìš©
2. **ê¸°ëŠ¥ì  ë¶„ë¦¬**: ì…ë ¥/ì œì–´ì™€ ê²°ê³¼/ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ êµ¬ë¶„
3. **ì‹œê°ì  ì°¨ì¸µ**: ê¸°ëŠ¥ë³„ë¡œ ê·¸ë£¹í™”ëœ ì¸í„°í˜ì´ìŠ¤
4. **ì‚¬ìš©ì íë¦„**: ì¢Œìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ìì—°ìŠ¤ëŸ¬ìš´ ì‘ì—… ìˆœì„œ

### ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ì‹œìŠ¤í…œ

1. **ì¦‰ì‹œ í”¼ë“œë°±**: ì˜µì…˜ ë³€ê²½ ì‹œ ì‹¤ì‹œê°„ ê²°ê³¼ í‘œì‹œ
2. **ìœ íš¨ì„± ê²€ì‚¬**: ì•ˆì „í•˜ì§€ ì•Šì€ ë³€ê²½ ì‚¬ì „ ì—ëŸ¬ í‘œì‹œ
3. **ì‹œê°ì  êµ¬ë¶„**: ìƒíƒœë³„ ìƒ‰ìƒ ì½”ë”©ìœ¼ë¡œ ì§ê´€ì  ì´í•´
4. **ëŒ€ëŸ‰ ì²˜ë¦¬**: ìˆ˜ë°± ê°œ íŒŒì¼ë„ ë¹ ë¥¸ ë¯¸ë¦¬ë³´ê¸° ì§€ì›

### í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/chapter5/
â”œâ”€â”€ step1_basic_layout.py        # ê¸°ë³¸ 2-íŒ¨ë„ ë ˆì´ì•„ì›ƒ
â”œâ”€â”€ step2_engine_integration.py  # ì—”ì§„ í†µí•©
â”œâ”€â”€ step3_real_time_preview.py   # ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°
â”œâ”€â”€ step4_advanced_ui.py         # ê³ ê¸‰ UI ê¸°ëŠ¥
â”œâ”€â”€ step5_professional.py       # ì™„ì„±ëœ ì¸í„°í˜ì´ìŠ¤
â””â”€â”€ rename_engine.py            # íŒŒì¼ ê´€ë¦¬ ì—”ì§„
```

---

## ğŸ”§ Step 1: íŒŒì¼ ê´€ë¦¬ ì—”ì§„ ì„¤ê³„ì™€ êµ¬í˜„

### ëª©í‘œ
Chapter 5ì—ì„œ ì‚¬ìš©í•  íŒŒì¼ ê´€ë¦¬ ì—”ì§„ì„ ì„¤ê³„í•˜ê³  êµ¬í˜„í•©ë‹ˆë‹¤. ì´ ì—”ì§„ì€ GUIì™€ ì™„ì „íˆ ë¶„ë¦¬ë˜ì–´ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš´ êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.

### rename_engine.py - íŒŒì¼ ê´€ë¦¬ ì—”ì§„

```python
import os
from typing import List, Tuple, Dict, Any
from pathlib import Path

class RenameEngine:
    """íŒŒì¼ëª… ë³€ê²½ì„ ì²˜ë¦¬í•˜ëŠ” ì—”ì§„ í´ë˜ìŠ¤"""
    
    def __init__(self):
        # íŒŒì¼ ëª©ë¡ ê´€ë¦¬
        self.files: List[str] = []
        
        # ì´ë¦„ ë³€ê²½ ì˜µì…˜ë“¤
        self.prefix = ""
        self.suffix = ""
        self.find_text = ""
        self.replace_text = ""
        self.use_numbering = False
        self.number_start = 1
        self.number_digits = 3
        
        # ì½œë°± í•¨ìˆ˜ë“¤ (ì„ íƒì )
        self.on_files_changed = None
        self.on_options_changed = None
    
    # íŒŒì¼ ê´€ë¦¬ ë©”ì„œë“œë“¤
    def add_file(self, file_path: str) -> bool:
        """íŒŒì¼ì„ ëª©ë¡ì— ì¶”ê°€"""
        if os.path.isfile(file_path) and file_path not in self.files:
            self.files.append(file_path)
            self._notify_files_changed()
            return True
        return False
    
    def add_files(self, file_paths: List[str]) -> int:
        """ì—¬ëŸ¬ íŒŒì¼ì„ ëŒ€ëŸ‰ ì¶”ê°€"""
        added_count = 0
        for file_path in file_paths:
            if self.add_file(file_path):
                added_count += 1
        return added_count
    
    def remove_file(self, file_path: str) -> bool:
        """íŒŒì¼ì„ ëª©ë¡ì—ì„œ ì œê±°"""
        if file_path in self.files:
            self.files.remove(file_path)
            self._notify_files_changed()
            return True
        return False
    
    def remove_files_by_indices(self, indices: List[int]) -> int:
        """ì¸ë±ìŠ¤ë¡œ ì—¬ëŸ¬ íŒŒì¼ ì œê±°"""
        # ì—­ìˆœìœ¼ë¡œ ì •ë ¬í•´ì„œ ì œê±° (ì¸ë±ìŠ¤ ê¼¬ì„ ë°©ì§€)
        removed_count = 0
        for index in sorted(indices, reverse=True):
            if 0 <= index < len(self.files):
                del self.files[index]
                removed_count += 1
        
        if removed_count > 0:
            self._notify_files_changed()
        return removed_count
    
    def clear_files(self):
        """ëª¨ë“  íŒŒì¼ ì œê±°"""
        self.files.clear()
        self._notify_files_changed()
    
    def get_file_count(self) -> int:
        """íŒŒì¼ ê°œìˆ˜ ë°˜í™˜"""
        return len(self.files)
    
    # ì˜µì…˜ ì„¤ì • ë©”ì„œë“œë“¤
    def set_prefix(self, prefix: str):
        """ì ‘ë‘ì‚¬ ì„¤ì •"""
        if self.prefix != prefix:
            self.prefix = prefix
            self._notify_options_changed()
    
    def set_suffix(self, suffix: str):
        """ì ‘ë¯¸ì‚¬ ì„¤ì •"""
        if self.suffix != suffix:
            self.suffix = suffix
            self._notify_options_changed()
    
    def set_find_replace(self, find_text: str, replace_text: str):
        """ì°¾ê¸°/ë°”ê¾¸ê¸° ì„¤ì •"""
        changed = self.find_text != find_text or self.replace_text != replace_text
        self.find_text = find_text
        self.replace_text = replace_text
        if changed:
            self._notify_options_changed()
    
    def set_numbering(self, use_numbering: bool, start: int = 1, digits: int = 3):
        """ìˆœë²ˆ ë§¤ê¸°ê¸° ì„¤ì •"""
        changed = (self.use_numbering != use_numbering or 
                  self.number_start != start or 
                  self.number_digits != digits)
        
        self.use_numbering = use_numbering
        self.number_start = start
        self.number_digits = digits
        
        if changed:
            self._notify_options_changed()
    
    # íŒŒì¼ëª… ë³€ê²½ ë¡œì§
    def generate_new_name(self, original_filename: str, file_index: int = 0) -> str:
        """ì›ë³¸ íŒŒì¼ëª…ì„ ìƒˆë¡œìš´ ì´ë¦„ìœ¼ë¡œ ë³€ê²½"""
        name, ext = os.path.splitext(original_filename)
        
        # 1ë‹¨ê³„: ì°¾ê¸°/ë°”ê¾¸ê¸° ì ìš©
        if self.find_text:
            name = name.replace(self.find_text, self.replace_text)
        
        # 2ë‹¨ê³„: ìˆœë²ˆ ë§¤ê¸°ê¸° ì ìš©
        if self.use_numbering:
            number = str(self.number_start + file_index).zfill(self.number_digits)
            name = f"{name}_{number}"
        
        # 3ë‹¨ê³„: ì ‘ë‘ì‚¬/ì ‘ë¯¸ì‚¬ ì¶”ê°€
        new_name = f"{self.prefix}{name}{self.suffix}{ext}"
        
        return new_name
    
    def is_valid_filename(self, filename: str, original_path: str) -> Tuple[bool, str]:
        """íŒŒì¼ëª… ìœ íš¨ì„± ê²€ì‚¬"""
        # 1. ë¹ˆ íŒŒì¼ëª… ê²€ì‚¬
        if not filename.strip():
            return False, "ë¹ˆ íŒŒì¼ëª…"
        
        # 2. Windows ê¸ˆì§€ ë¬¸ì ê²€ì‚¬
        forbidden_chars = '<>:"/\\|?*'
        for char in forbidden_chars:
            if char in filename:
                return False, f"ê¸ˆì§€ëœ ë¬¸ì '{char}' í¬í•¨"
        
        # 3. ê¸¸ì´ ê²€ì‚¬
        if len(filename) > 255:
            return False, "íŒŒì¼ëª…ì´ ë„ˆë¬´ ê¹€ (255ì ì´ˆê³¼)"
        
        # 4. ì¤‘ë³µ íŒŒì¼ëª… ê²€ì‚¬
        directory = os.path.dirname(original_path)
        new_path = os.path.join(directory, filename)
        if os.path.exists(new_path) and new_path != original_path:
            return False, "ë™ì¼í•œ ì´ë¦„ì˜ íŒŒì¼ì´ ì´ë¯¸ ì¡´ì¬"
        
        return True, ""
    
    def generate_preview(self) -> List[Tuple[str, str, bool, str]]:
        """ëª¨ë“  íŒŒì¼ì˜ ë¯¸ë¦¬ë³´ê¸° ìƒì„±"""
        preview_list = []
        
        for i, file_path in enumerate(self.files):
            original_name = os.path.basename(file_path)
            new_name = self.generate_new_name(original_name, i)
            is_valid, error_msg = self.is_valid_filename(new_name, file_path)
            
            preview_list.append((original_name, new_name, is_valid, error_msg))
        
        return preview_list
    
    def execute_rename(self) -> Dict[str, Any]:
        """ì‹¤ì œ íŒŒì¼ëª… ë³€ê²½ ì‹¤í–‰"""
        results = {
            'success': 0,
            'failed': 0,
            'errors': [],
            'renamed_files': []  # (ì›ë³¸ê²½ë¡œ, ìƒˆê²½ë¡œ) íŠœí”Œ ëª©ë¡
        }
        
        preview = self.generate_preview()
        
        for i, (original_name, new_name, is_valid, error_msg) in enumerate(preview):
            original_path = self.files[i]
            
            if not is_valid:
                results['failed'] += 1
                results['errors'].append(f"{original_name}: {error_msg}")
                continue
            
            # ë³€ê²½ì´ í•„ìš”í•œì§€ í™•ì¸
            if original_name == new_name:
                continue  # ë³€ê²½ ì‚¬í•­ ì—†ìŒ
            
            directory = os.path.dirname(original_path)
            new_path = os.path.join(directory, new_name)
            
            try:
                os.rename(original_path, new_path)
                
                # ì„±ê³µ ì‹œ ë‚´ë¶€ ëª©ë¡ ì—…ë°ì´íŠ¸
                self.files[i] = new_path
                results['success'] += 1
                results['renamed_files'].append((original_path, new_path))
                
            except Exception as e:
                results['failed'] += 1
                results['errors'].append(f"{original_name}: {str(e)}")
        
        if results['success'] > 0:
            self._notify_files_changed()
        
        return results
    
    # ì½œë°± ì•Œë¦¼ ë©”ì„œë“œë“¤
    def _notify_files_changed(self):
        """íŒŒì¼ ëª©ë¡ ë³€ê²½ ì•Œë¦¼"""
        if self.on_files_changed:
            self.on_files_changed()
    
    def _notify_options_changed(self):
        """ì˜µì…˜ ë³€ê²½ ì•Œë¦¼"""
        if self.on_options_changed:
            self.on_options_changed()
    
    # ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œë“¤
    def get_statistics(self) -> Dict[str, Any]:
        """íŒŒì¼ ëª©ë¡ í†µê³„ ì •ë³´"""
        if not self.files:
            return {'total_files': 0, 'total_size': 0, 'file_types': {}}
        
        total_size = 0
        file_types = {}
        
        for file_path in self.files:
            try:
                # íŒŒì¼ í¬ê¸°
                total_size += os.path.getsize(file_path)
                
                # íŒŒì¼ í˜•ì‹
                ext = os.path.splitext(file_path)[1].lower()
                if not ext:
                    ext = '(í™•ì¥ì ì—†ìŒ)'
                file_types[ext] = file_types.get(ext, 0) + 1
                
            except OSError:
                continue  # íŒŒì¼ì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŒ
        
        return {
            'total_files': len(self.files),
            'total_size': total_size,
            'file_types': file_types
        }
    
    def reset_options(self):
        """ëª¨ë“  ì˜µì…˜ ì´ˆê¸°í™”"""
        self.prefix = ""
        self.suffix = ""
        self.find_text = ""
        self.replace_text = ""
        self.use_numbering = False
        self.number_start = 1
        self.number_digits = 3
        self._notify_options_changed()
```

### ì‹¤í–‰ ê²°ê³¼

![Step 1 ê²°ê³¼](images/ch5_step1.png)

Step 1ì—ì„œëŠ” GUIì™€ ì™„ì „íˆ ë¶„ë¦¬ëœ íŒŒì¼ ê´€ë¦¬ ì—”ì§„ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì´ ì—”ì§„ì€ íŒŒì¼ ëª©ë¡ ê´€ë¦¬, ì´ë¦„ ë³€ê²½ ì˜µì…˜ ì„¤ì •, ë¯¸ë¦¬ë³´ê¸° ìƒì„±, ì‹¤ì œ íŒŒì¼ëª… ë³€ê²½ ë“±ì˜ ëª¨ë“  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.

### ğŸ’¡ Step 1ì—ì„œ ë°°ìš´ ì—”ì§„ ì„¤ê³„ ì›ì¹™

1. **ë‹¨ì¼ ì±…ì„ ì›ì¹™**: ê° ë©”ì„œë“œëŠ” í•˜ë‚˜ì˜ ëª…í™•í•œ ì—­í• ë§Œ ë‹´ë‹¹
2. **ë°ì´í„° ì–¸ì»¤í”Œë§**: GUIì™€ ì™„ì „íˆ ë…ë¦½ì ì¸ ë¡œì§ ê³„ì¸µ
3. **ì´ë²¤íŠ¸ ê¸°ë°˜**: ì½œë°±ì„ í†µí•œ ë¹„ë™ê¸° ì•Œë¦¼ ì‹œìŠ¤í…œ
4. **ì˜¤ë¥˜ ì²˜ë¦¬**: ëª…ì‹œì ì¸ ì˜ˆì™¸ ì²˜ë¦¬ì™€ ìƒì„¸í•œ ì˜¤ë¥˜ ë©”ì‹œì§€
5. **í™•ì¥ì„±**: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ê°€ ì‰¬ìš´ ëª¨ë“ˆëŸ¬ êµ¬ì¡°

---

## ğŸ¨ Step 2: 2-íŒ¨ë„ ë ˆì´ì•„ì›ƒ ê¸°ë³¸ êµ¬ì¡°

### ëª©í‘œ
Chapter 4ì˜ ë‹¨ì¼ íŒ¨ë„ êµ¬ì¡°ë¥¼ ì¢Œìš° ë¶„í• ëœ 2-íŒ¨ë„ êµ¬ì¡°ë¡œ ë°œì „ì‹œí‚µë‹ˆë‹¤. ì™¼ìª½ì—ëŠ” íŒŒì¼ ê´€ë¦¬ì™€ ì˜µì…˜ ì„¤ì •, ì˜¤ë¥¸ìª½ì—ëŠ” ë¯¸ë¦¬ë³´ê¸°ê°€ ë°°ì¹˜ë©ë‹ˆë‹¤.

### step1_basic_layout.py

```python
import tkinter as tk
from tkinter import ttk, filedialog, messagebox
import os
from rename_engine import RenameEngine

class TwoPanelRenamer:
    """2-íŒ¨ë„ ë ˆì´ì•„ì›ƒ ê¸°ë³¸ êµ¬ì¡°"""
    
    def __init__(self):
        self.root = tk.Tk()
        self.root.title("KRenamer v5.0 - 2-íŒ¨ë„ ë ˆì´ì•„ì›ƒ")
        self.root.geometry("1000x700")
        self.root.minsize(800, 600)
        
        # ì—”ì§„ ì´ˆê¸°í™”
        self.engine = RenameEngine()
        self.engine.on_files_changed = self.on_files_changed
        self.engine.on_options_changed = self.on_options_changed
        
        self.create_widgets()
        self.create_variables()
        self.bind_events()
    
    def create_widgets(self):
        """ìœ„ì ¯ ìƒì„±"""
        # ë©”ì¸ ì»¨í…Œì´ë„ˆ
        main_frame = ttk.Frame(self.root, padding="5")
        main_frame.pack(fill=tk.BOTH, expand=True)
        
        # ìƒë‹¨ íˆ´ë°”
        self.create_toolbar(main_frame)
        
        # 2-íŒ¨ë„ ë©”ì¸ ì˜ì—­
        self.create_main_panels(main_frame)
        
        # í•˜ë‹¨ ìƒíƒœë°”
        self.create_statusbar(main_frame)
    
    def create_toolbar(self, parent):
        """ìƒë‹¨ íˆ´ë°”"""
        toolbar = ttk.Frame(parent)
        toolbar.pack(fill=tk.X, pady=(0, 5))
        
        # íŒŒì¼ ê´€ë¦¬ ë²„íŠ¼ë“¤
        ttk.Button(toolbar, text="ğŸ“ íŒŒì¼ ì¶”ê°€", 
                  command=self.add_files).pack(side=tk.LEFT, padx=(0, 5))
        ttk.Button(toolbar, text="ğŸ“‚ í´ë” ì¶”ê°€", 
                  command=self.add_folder).pack(side=tk.LEFT, padx=(0, 5))
        
        ttk.Separator(toolbar, orient=tk.VERTICAL).pack(side=tk.LEFT, fill=tk.Y, padx=5)
        
        # ì‘ì—… ë²„íŠ¼ë“¤
        ttk.Button(toolbar, text="ğŸ”„ ë¯¸ë¦¬ë³´ê¸° ìƒˆë¡œê³ ì¹¨", 
                  command=self.refresh_preview).pack(side=tk.LEFT, padx=(0, 5))
        ttk.Button(toolbar, text="âœ… ì´ë¦„ ë³€ê²½ ì‹¤í–‰", 
                  command=self.execute_rename).pack(side=tk.LEFT, padx=(0, 5))
        
        ttk.Separator(toolbar, orient=tk.VERTICAL).pack(side=tk.LEFT, fill=tk.Y, padx=5)
        
        # ì´ˆê¸°í™” ë²„íŠ¼ë“¤
        ttk.Button(toolbar, text="ğŸ—‘ï¸ ì „ì²´ ì‚­ì œ", 
                  command=self.clear_all).pack(side=tk.LEFT, padx=(0, 5))
        ttk.Button(toolbar, text="âš™ï¸ ì˜µì…˜ ì´ˆê¸°í™”", 
                  command=self.reset_options).pack(side=tk.LEFT)
    
    def create_main_panels(self, parent):
        """ë©”ì¸ 2-íŒ¨ë„ ì˜ì—­"""
        # PanedWindowë¡œ ì¢Œìš° ë¶„í• 
        paned = ttk.PanedWindow(parent, orient=tk.HORIZONTAL)
        paned.pack(fill=tk.BOTH, expand=True, pady=(0, 5))
        
        # ì™¼ìª½ íŒ¨ë„ (íŒŒì¼ ê´€ë¦¬ + ì˜µì…˜)
        left_panel = ttk.Frame(paned)
        paned.add(left_panel, weight=1)
        
        # ì˜¤ë¥¸ìª½ íŒ¨ë„ (ë¯¸ë¦¬ë³´ê¸°)
        right_panel = ttk.Frame(paned)
        paned.add(right_panel, weight=1)
        
        self.create_left_panel(left_panel)
        self.create_right_panel(right_panel)
    
    def create_left_panel(self, parent):
        """ì™¼ìª½ íŒ¨ë„ - íŒŒì¼ ê´€ë¦¬ì™€ ì˜µì…˜"""
        # íŒŒì¼ ëª©ë¡ ì„¹ì…˜
        files_group = ttk.LabelFrame(parent, text="íŒŒì¼ ëª©ë¡", padding="10")
        files_group.pack(fill=tk.BOTH, expand=True, pady=(0, 10))
        
        # íŒŒì¼ í•„í„°ì™€ í†µê³„
        filter_frame = ttk.Frame(files_group)
        filter_frame.pack(fill=tk.X, pady=(0, 5))
        
        ttk.Label(filter_frame, text="í•„í„°:").pack(side=tk.LEFT)
        
        self.filter_var = tk.StringVar(value="ëª¨ë“  íŒŒì¼")
        filter_combo = ttk.Combobox(filter_frame, textvariable=self.filter_var,
                                   values=["ëª¨ë“  íŒŒì¼", "ì´ë¯¸ì§€ íŒŒì¼", "ë¬¸ì„œ íŒŒì¼", "ë¹„ë””ì˜¤ íŒŒì¼"],
                                   width=12, state="readonly")
        filter_combo.pack(side=tk.LEFT, padx=(5, 15))
        
        self.file_count_var = tk.StringVar(value="íŒŒì¼ ê°œìˆ˜: 0")
        ttk.Label(filter_frame, textvariable=self.file_count_var,
                 foreground="blue").pack(side=tk.RIGHT)
        
        # íŒŒì¼ ëª©ë¡ (Listbox)
        list_frame = ttk.Frame(files_group)
        list_frame.pack(fill=tk.BOTH, expand=True)
        
        self.files_listbox = tk.Listbox(list_frame, selectmode=tk.EXTENDED,
                                       font=("ë§‘ì€ ê³ ë”•", 9))
        
        list_scroll = ttk.Scrollbar(list_frame, orient=tk.VERTICAL,
                                   command=self.files_listbox.yview)
        self.files_listbox.configure(yscrollcommand=list_scroll.set)
        
        self.files_listbox.pack(side=tk.LEFT, fill=tk.BOTH, expand=True)
        list_scroll.pack(side=tk.RIGHT, fill=tk.Y)
        
        # íŒŒì¼ ì¡°ì‘ ë²„íŠ¼ë“¤
        file_buttons = ttk.Frame(files_group)
        file_buttons.pack(fill=tk.X, pady=(5, 0))
        
        ttk.Button(file_buttons, text="âŒ ì„ íƒ ì‚­ì œ",
                  command=self.remove_selected).pack(side=tk.LEFT, padx=(0, 5))
        ttk.Button(file_buttons, text="ğŸ”º ìœ„ë¡œ",
                  command=self.move_up).pack(side=tk.LEFT, padx=(0, 5))
        ttk.Button(file_buttons, text="ğŸ”» ì•„ë˜ë¡œ",
                  command=self.move_down).pack(side=tk.LEFT)
        
        # ì´ë¦„ ë³€ê²½ ì˜µì…˜ ì„¹ì…˜
        options_group = ttk.LabelFrame(parent, text="ì´ë¦„ ë³€ê²½ ì˜µì…˜", padding="10")
        options_group.pack(fill=tk.X)
        
        self.create_rename_options(options_group)
    
    def create_rename_options(self, parent):
        """ì´ë¦„ ë³€ê²½ ì˜µì…˜ ìœ„ì ¯ë“¤"""
        # ì ‘ë‘ì‚¬/ì ‘ë¯¸ì‚¬
        prefix_frame = ttk.Frame(parent)
        prefix_frame.pack(fill=tk.X, pady=(0, 5))
        
        ttk.Label(prefix_frame, text="ì ‘ë‘ì‚¬:", width=8).pack(side=tk.LEFT)
        self.prefix_var = tk.StringVar()
        ttk.Entry(prefix_frame, textvariable=self.prefix_var, width=20).pack(side=tk.LEFT, padx=(5, 15))
        
        ttk.Label(prefix_frame, text="ì ‘ë¯¸ì‚¬:", width=8).pack(side=tk.LEFT)
        self.suffix_var = tk.StringVar()
        ttk.Entry(prefix_frame, textvariable=self.suffix_var, width=20).pack(side=tk.LEFT, padx=(5, 0))
        
        # ì°¾ê¸°/ë°”ê¾¸ê¸°
        replace_frame = ttk.Frame(parent)
        replace_frame.pack(fill=tk.X, pady=(0, 5))
        
        ttk.Label(replace_frame, text="ì°¾ê¸°:", width=8).pack(side=tk.LEFT)
        self.find_var = tk.StringVar()
        ttk.Entry(replace_frame, textvariable=self.find_var, width=20).pack(side=tk.LEFT, padx=(5, 15))
        
        ttk.Label(replace_frame, text="ë°”ê¾¸ê¸°:", width=8).pack(side=tk.LEFT)
        self.replace_var = tk.StringVar()
        ttk.Entry(replace_frame, textvariable=self.replace_var, width=20).pack(side=tk.LEFT, padx=(5, 0))
        
        # ìˆœë²ˆ ë§¤ê¸°ê¸°
        number_frame = ttk.Frame(parent)
        number_frame.pack(fill=tk.X, pady=(0, 5))
        
        self.use_numbering_var = tk.BooleanVar()
        ttk.Checkbutton(number_frame, text="ìˆœë²ˆ ë§¤ê¸°ê¸°", 
                       variable=self.use_numbering_var).pack(side=tk.LEFT)
        
        ttk.Label(number_frame, text="ì‹œì‘:").pack(side=tk.LEFT, padx=(15, 5))
        self.number_start_var = tk.IntVar(value=1)
        ttk.Spinbox(number_frame, from_=1, to=999, width=5,
                   textvariable=self.number_start_var).pack(side=tk.LEFT, padx=(0, 10))
        
        ttk.Label(number_frame, text="ìë¦¿ìˆ˜:").pack(side=tk.LEFT, padx=(0, 5))
        self.number_digits_var = tk.IntVar(value=3)
        ttk.Spinbox(number_frame, from_=1, to=5, width=5,
                   textvariable=self.number_digits_var).pack(side=tk.LEFT)
    
    def create_right_panel(self, parent):
        """ì˜¤ë¥¸ìª½ íŒ¨ë„ - ë¯¸ë¦¬ë³´ê¸°"""
        preview_group = ttk.LabelFrame(parent, text="ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°", padding="10")
        preview_group.pack(fill=tk.BOTH, expand=True)
        
        # ë¯¸ë¦¬ë³´ê¸° í…Œì´ë¸”
        tree_frame = ttk.Frame(preview_group)
        tree_frame.pack(fill=tk.BOTH, expand=True)
        
        columns = ("ìˆœë²ˆ", "ì›ë³¸ íŒŒì¼ëª…", "ìƒˆ íŒŒì¼ëª…", "ìƒíƒœ")
        self.preview_tree = ttk.Treeview(tree_frame, columns=columns, show="headings")
        
        # ì»¬ëŸ¼ ì„¤ì •
        self.preview_tree.heading("ìˆœë²ˆ", text="#")
        self.preview_tree.heading("ì›ë³¸ íŒŒì¼ëª…", text="ì›ë³¸ íŒŒì¼ëª…")
        self.preview_tree.heading("ìƒˆ íŒŒì¼ëª…", text="ìƒˆ íŒŒì¼ëª…")
        self.preview_tree.heading("ìƒíƒœ", text="ìƒíƒœ")
        
        self.preview_tree.column("ìˆœë²ˆ", width=50, anchor=tk.CENTER)
        self.preview_tree.column("ì›ë³¸ íŒŒì¼ëª…", width=200)
        self.preview_tree.column("ìƒˆ íŒŒì¼ëª…", width=200)
        self.preview_tree.column("ìƒíƒœ", width=80, anchor=tk.CENTER)
        
        # ìŠ¤í¬ë¡¤ë°”
        tree_scroll = ttk.Scrollbar(tree_frame, orient=tk.VERTICAL,
                                   command=self.preview_tree.yview)
        self.preview_tree.configure(yscrollcommand=tree_scroll.set)
        
        self.preview_tree.pack(side=tk.LEFT, fill=tk.BOTH, expand=True)
        tree_scroll.pack(side=tk.RIGHT, fill=tk.Y)
        
        # ë¯¸ë¦¬ë³´ê¸° í†µê³„
        stats_frame = ttk.Frame(preview_group)
        stats_frame.pack(fill=tk.X, pady=(10, 0))
        
        self.preview_stats_var = tk.StringVar(value="ë³€ê²½ ì˜ˆì •: 0ê°œ, ì˜¤ë¥˜: 0ê°œ")
        ttk.Label(stats_frame, textvariable=self.preview_stats_var,
                 foreground="darkgreen").pack(side=tk.LEFT)
    
    def create_statusbar(self, parent):
        """í•˜ë‹¨ ìƒíƒœë°”"""
        statusbar = ttk.Frame(parent)
        statusbar.pack(fill=tk.X, pady=(5, 0))
        
        self.status_var = tk.StringVar(value="ì¤€ë¹„")
        ttk.Label(statusbar, textvariable=self.status_var).pack(side=tk.LEFT)
        
        # íŒŒì¼ í†µê³„
        self.file_stats_var = tk.StringVar(value="")
        ttk.Label(statusbar, textvariable=self.file_stats_var).pack(side=tk.RIGHT)
    
    def create_variables(self):
        """ë³€ìˆ˜ ì´ˆê¸°í™”"""
        # ì´ˆê¸° ìƒíƒœ ì„¤ì •
        self.update_file_list()
        self.update_preview()
    
    def bind_events(self):
        """ì´ë²¤íŠ¸ ë°”ì¸ë”©"""
        # ì˜µì…˜ ë³€ê²½ ê°ì§€
        self.prefix_var.trace('w', self.on_option_change)
        self.suffix_var.trace('w', self.on_option_change)
        self.find_var.trace('w', self.on_option_change)
        self.replace_var.trace('w', self.on_option_change)
        self.use_numbering_var.trace('w', self.on_option_change)
        self.number_start_var.trace('w', self.on_option_change)
        self.number_digits_var.trace('w', self.on_option_change)
        
        # ë¦¬ìŠ¤íŠ¸ë°•ìŠ¤ ì„ íƒ ë³€ê²½
        self.files_listbox.bind('<<ListboxSelect>>', self.on_file_select)
        
        # ë”ë¸”í´ë¦­ìœ¼ë¡œ íŒŒì¼ ì—´ê¸°
        self.preview_tree.bind('<Double-1>', self.on_preview_double_click)
    
    # ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë“¤
    def on_files_changed(self):
        """íŒŒì¼ ëª©ë¡ ë³€ê²½ ì‹œ í˜¸ì¶œ"""
        self.update_file_list()
        self.update_preview()
        self.update_statistics()
    
    def on_options_changed(self):
        """ì˜µì…˜ ë³€ê²½ ì‹œ í˜¸ì¶œ"""
        self.update_preview()
    
    def on_option_change(self, *args):
        """GUI ì˜µì…˜ ë³€ê²½ ì‹œ ì—”ì§„ì— ë°˜ì˜"""
        self.engine.set_prefix(self.prefix_var.get())
        self.engine.set_suffix(self.suffix_var.get())
        self.engine.set_find_replace(self.find_var.get(), self.replace_var.get())
        self.engine.set_numbering(
            self.use_numbering_var.get(),
            self.number_start_var.get(),
            self.number_digits_var.get()
        )
    
    def on_file_select(self, event):
        """íŒŒì¼ ì„ íƒ ë³€ê²½ ì‹œ"""
        selected = self.files_listbox.curselection()
        if selected:
            self.status_var.set(f"{len(selected)}ê°œ íŒŒì¼ ì„ íƒë¨")
        else:
            self.status_var.set("ì¤€ë¹„")
    
    def on_preview_double_click(self, event):
        """ë¯¸ë¦¬ë³´ê¸° ë”ë¸”í´ë¦­ ì‹œ íŒŒì¼ íƒìƒ‰ê¸°ì—ì„œ ì—´ê¸°"""
        selection = self.preview_tree.selection()
        if selection:
            item = self.preview_tree.item(selection[0])
            file_num = int(item['values'][0]) - 1
            if 0 <= file_num < len(self.engine.files):
                file_path = self.engine.files[file_num]
                os.startfile(os.path.dirname(file_path))
    
    # íŒŒì¼ ê´€ë¦¬ ë©”ì„œë“œë“¤
    def add_files(self):
        """íŒŒì¼ ì¶”ê°€"""
        files = filedialog.askopenfilenames(
            title="ì¶”ê°€í•  íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”",
            filetypes=[
                ("ëª¨ë“  íŒŒì¼", "*.*"),
                ("ì´ë¯¸ì§€ íŒŒì¼", "*.jpg;*.jpeg;*.png;*.gif;*.bmp"),
                ("ë¬¸ì„œ íŒŒì¼", "*.txt;*.doc;*.docx;*.pdf"),
                ("ë¹„ë””ì˜¤ íŒŒì¼", "*.mp4;*.avi;*.mkv;*.mov")
            ]
        )
        
        if files:
            added = self.engine.add_files(list(files))
            self.status_var.set(f"{added}ê°œ íŒŒì¼ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤")
    
    def add_folder(self):
        """í´ë”ì˜ ëª¨ë“  íŒŒì¼ ì¶”ê°€"""
        folder = filedialog.askdirectory(title="í´ë”ë¥¼ ì„ íƒí•˜ì„¸ìš”")
        if not folder:
            return
        
        try:
            files = []
            for item in os.listdir(folder):
                item_path = os.path.join(folder, item)
                if os.path.isfile(item_path):
                    files.append(item_path)
            
            if files:
                added = self.engine.add_files(files)
                self.status_var.set(f"í´ë”ì—ì„œ {added}ê°œ íŒŒì¼ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤")
            else:
                messagebox.showinfo("ì •ë³´", "ì„ íƒí•œ í´ë”ì— íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.")
                
        except Exception as e:
            messagebox.showerror("ì˜¤ë¥˜", f"í´ë” ì½ê¸° ì‹¤íŒ¨: {str(e)}")
    
    def remove_selected(self):
        """ì„ íƒëœ íŒŒì¼ë“¤ ì œê±°"""
        selected = self.files_listbox.curselection()
        if not selected:
            messagebox.showwarning("ê²½ê³ ", "ì œê±°í•  íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”.")
            return
        
        removed = self.engine.remove_files_by_indices(list(selected))
        self.status_var.set(f"{removed}ê°œ íŒŒì¼ì´ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤")
    
    def move_up(self):
        """ì„ íƒëœ íŒŒì¼ì„ ìœ„ë¡œ ì´ë™"""
        selected = self.files_listbox.curselection()
        if not selected or selected[0] == 0:
            return
        
        # ë‹¨ìˆœ êµ¬í˜„: ì²« ë²ˆì§¸ ì„ íƒëœ íŒŒì¼ë§Œ ì´ë™
        index = selected[0]
        file_path = self.engine.files.pop(index)
        self.engine.files.insert(index - 1, file_path)
        
        self.engine._notify_files_changed()
        # ì„ íƒ ìƒíƒœ ìœ ì§€
        self.files_listbox.selection_set(index - 1)
    
    def move_down(self):
        """ì„ íƒëœ íŒŒì¼ì„ ì•„ë˜ë¡œ ì´ë™"""
        selected = self.files_listbox.curselection()
        if not selected or selected[0] >= len(self.engine.files) - 1:
            return
        
        index = selected[0]
        file_path = self.engine.files.pop(index)
        self.engine.files.insert(index + 1, file_path)
        
        self.engine._notify_files_changed()
        # ì„ íƒ ìƒíƒœ ìœ ì§€
        self.files_listbox.selection_set(index + 1)
    
    def clear_all(self):
        """ëª¨ë“  íŒŒì¼ ì‚­ì œ"""
        if self.engine.get_file_count() > 0:
            if messagebox.askyesno("í™•ì¸", "ëª¨ë“  íŒŒì¼ì„ ëª©ë¡ì—ì„œ ì œê±°í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"):
                self.engine.clear_files()
                self.status_var.set("ëª¨ë“  íŒŒì¼ì´ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤")
    
    def reset_options(self):
        """ì˜µì…˜ ì´ˆê¸°í™”"""
        self.engine.reset_options()
        # GUI ë³€ìˆ˜ë“¤ë„ ì´ˆê¸°í™”
        self.prefix_var.set("")
        self.suffix_var.set("")
        self.find_var.set("")
        self.replace_var.set("")
        self.use_numbering_var.set(False)
        self.number_start_var.set(1)
        self.number_digits_var.set(3)
        
        self.status_var.set("ì˜µì…˜ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤")
    
    # ë¯¸ë¦¬ë³´ê¸° ë° UI ì—…ë°ì´íŠ¸
    def update_file_list(self):
        """íŒŒì¼ ëª©ë¡ ì—…ë°ì´íŠ¸"""
        self.files_listbox.delete(0, tk.END)
        
        for file_path in self.engine.files:
            filename = os.path.basename(file_path)
            self.files_listbox.insert(tk.END, filename)
        
        self.file_count_var.set(f"íŒŒì¼ ê°œìˆ˜: {self.engine.get_file_count()}")
    
    def update_preview(self):
        """ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸"""
        # ê¸°ì¡´ í•­ëª© ì œê±°
        for item in self.preview_tree.get_children():
            self.preview_tree.delete(item)
        
        if self.engine.get_file_count() == 0:
            self.preview_tree.insert("", tk.END, values=(
                "", "íŒŒì¼ì„ ì¶”ê°€í•˜ì„¸ìš”", "", ""
            ))
            self.preview_stats_var.set("ë³€ê²½ ì˜ˆì •: 0ê°œ, ì˜¤ë¥˜: 0ê°œ")
            return
        
        preview = self.engine.generate_preview()
        valid_count = 0
        error_count = 0
        
        for i, (original, new, is_valid, error_msg) in enumerate(preview):
            if is_valid:
                status = "âœ… ìœ íš¨"
                valid_count += 1
                # ìƒ‰ìƒ íƒœê·¸ (ë‚˜ì¤‘ì— ì¶”ê°€)
                tags = ("valid",)
            else:
                status = f"âŒ {error_msg}"
                error_count += 1
                tags = ("error",)
            
            self.preview_tree.insert("", tk.END, values=(
                i + 1, original, new, status
            ), tags=tags)
        
        # ìƒ‰ìƒ ì„¤ì •
        self.preview_tree.tag_configure("valid", foreground="darkgreen")
        self.preview_tree.tag_configure("error", foreground="red")
        
        self.preview_stats_var.set(f"ë³€ê²½ ì˜ˆì •: {valid_count}ê°œ, ì˜¤ë¥˜: {error_count}ê°œ")
    
    def update_statistics(self):
        """í†µê³„ ì •ë³´ ì—…ë°ì´íŠ¸"""
        stats = self.engine.get_statistics()
        if stats['total_files'] > 0:
            size_mb = stats['total_size'] / (1024 * 1024)
            self.file_stats_var.set(
                f"ì´ {stats['total_files']}ê°œ íŒŒì¼, {size_mb:.1f}MB"
            )
        else:
            self.file_stats_var.set("")
    
    def refresh_preview(self):
        """ë¯¸ë¦¬ë³´ê¸° ê°•ì œ ìƒˆë¡œê³ ì¹¨"""
        self.update_preview()
        self.status_var.set("ë¯¸ë¦¬ë³´ê¸°ê°€ ìƒˆë¡œê³ ì¹¨ë˜ì—ˆìŠµë‹ˆë‹¤")
    
    def execute_rename(self):
        """íŒŒì¼ëª… ë³€ê²½ ì‹¤í–‰"""
        if self.engine.get_file_count() == 0:
            messagebox.showwarning("ê²½ê³ ", "ë³€ê²½í•  íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.")
            return
        
        # ë¯¸ë¦¬ë³´ê¸°ì—ì„œ ìœ íš¨í•œ ë³€ê²½ì‚¬í•­ í™•ì¸
        preview = self.engine.generate_preview()
        valid_changes = sum(1 for _, _, is_valid, _ in preview if is_valid)
        
        if valid_changes == 0:
            messagebox.showwarning("ê²½ê³ ", "ë³€ê²½í•  ìˆ˜ ìˆëŠ” íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.")
            return
        
        # í™•ì¸ ëŒ€í™”ìƒì
        if not messagebox.askyesno("í™•ì¸", 
                                  f"{valid_changes}ê°œ íŒŒì¼ì˜ ì´ë¦„ì„ ë³€ê²½í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"):
            return
        
        # ì‹¤í–‰
        self.status_var.set("íŒŒì¼ëª… ë³€ê²½ ì¤‘...")
        self.root.update()  # UI ì¦‰ì‹œ ì—…ë°ì´íŠ¸
        
        try:
            results = self.engine.execute_rename()
            
            # ê²°ê³¼ ë©”ì‹œì§€
            message = f"âœ… ì„±ê³µ: {results['success']}ê°œ íŒŒì¼ ë³€ê²½ë¨"
            if results['failed'] > 0:
                message += f"\nâŒ ì‹¤íŒ¨: {results['failed']}ê°œ íŒŒì¼"
                if results['errors']:
                    message += f"\n\nì²« ë²ˆì§¸ ì˜¤ë¥˜: {results['errors'][0]}"
            
            messagebox.showinfo("ì‘ì—… ì™„ë£Œ", message)
            self.status_var.set(f"ì™„ë£Œ: {results['success']}ê°œ íŒŒì¼ ë³€ê²½ë¨")
            
        except Exception as e:
            messagebox.showerror("ì˜¤ë¥˜", f"íŒŒì¼ëª… ë³€ê²½ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {str(e)}")
            self.status_var.set("ì˜¤ë¥˜ ë°œìƒ")
    
    def run(self):
        """ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰"""
        self.root.mainloop()

if __name__ == "__main__":
    app = TwoPanelRenamer()
    app.run()
```

### ì‹¤í–‰ ê²°ê³¼

![Step 2 ê²°ê³¼](images/ch5_step2.png)

Step 2ì—ì„œëŠ” ì™„ì „í•œ 2-íŒ¨ë„ êµ¬ì¡°ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤:

- **ì™¼ìª½ íŒ¨ë„**: íŒŒì¼ ëª©ë¡, í•„í„°ë§, ì´ë¦„ ë³€ê²½ ì˜µì…˜
- **ì˜¤ë¥¸ìª½ íŒ¨ë„**: ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° í…Œì´ë¸”
- **ìƒë‹¨ íˆ´ë°”**: ìì£¼ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ë“¤
- **í•˜ë‹¨ ìƒíƒœë°”**: í˜„ì¬ ìƒíƒœì™€ í†µê³„ ì •ë³´

### ğŸ’¡ Step 2ì—ì„œ ë°°ìš´ 2-íŒ¨ë„ ì„¤ê³„ ì›ì¹™

1. **ê³µê°„ ë¶„í• **: PanedWindowë¡œ ìœ ì—°í•œ í™”ë©´ ë¶„í• 
2. **ê¸°ëŠ¥ë³„ ê·¸ë£¹í™”**: LabelFrameìœ¼ë¡œ ê´€ë ¨ ê¸°ëŠ¥ ë¬¶ê¸°
3. **ì •ë³´ ê³„ì¸µí™”**: íˆ´ë°”, ë©”ì¸ ì˜ì—­, ìƒíƒœë°”ë¡œ ì •ë³´ êµ¬ì¡°í™”
4. **ì‹¤ì‹œê°„ ë™ê¸°í™”**: ì—”ì§„ê³¼ GUI ê°„ ì¦‰ì‹œ ë°ì´í„° ë°˜ì˜
5. **ì‚¬ìš©ì í”¼ë“œë°±**: ëª¨ë“  ì‘ì—…ì— ëŒ€í•œ ëª…í™•í•œ ìƒíƒœ í‘œì‹œ

---

## âš¡ Step 3: ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ì‹œìŠ¤í…œ

### ëª©í‘œ
Step 2ì˜ ê¸°ë³¸ êµ¬ì¡°ì— ë“œë˜ê·¸ ì•¤ ë“œë¡­, ì •ê·œí‘œí˜„ì‹ ì§€ì›, ê³ ê¸‰ í•„í„°ë§ ë“±ì˜ ì „ë¬¸ì ì¸ ê¸°ëŠ¥ë“¤ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

### step3_real_time_preview.py

```python
import tkinter as tk
from tkinter import ttk, filedialog, messagebox
import os
import re
try:
    import tkinterdnd2
    from tkinterdnd2 import DND_FILES, TkinterDnD
    DND_AVAILABLE = True
except ImportError:
    DND_AVAILABLE = False
    print("ê²½ê³ : tkinterdnd2ê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì•„ ë“œë˜ê·¸ ì•¤ ë“œë¡­ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
    print("ì„¤ì¹˜í•˜ë ¤ë©´: pip install tkinterdnd2")
from rename_engine import RenameEngine

class AdvancedRenamerGUI:
    """ê³ ê¸‰ ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥ì„ í¬í•¨í•œ ë¦¬ë„¤ì´ë¨¸"""
    
    def __init__(self):
        if DND_AVAILABLE:
            self.root = TkinterDnD.Tk()
        else:
            self.root = tk.Tk()
            
        self.root.title("KRenamer v5.0 - ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°")
        self.root.geometry("1200x800")
        self.root.minsize(900, 600)
        
        # ì—”ì§„ ì´ˆê¸°í™”
        self.engine = RenameEngine()
        self.engine.on_files_changed = self.on_files_changed
        self.engine.on_options_changed = self.on_options_changed
        
        # GUI ìƒíƒœ ë³€ìˆ˜ë“¤
        self.search_text = tk.StringVar()
        self.sort_column = "name"  # name, size, type
        self.sort_reverse = False
        self.filter_mode = tk.StringVar(value="ëª¨ë“  íŒŒì¼")
        
        self.create_widgets()
        self.create_variables()
        self.bind_events()
        self.setup_drag_drop()
    
    def create_widgets(self):
        """ìœ„ì ¯ ìƒì„±"""
        # ë©”ì¸ ì»¨í…Œì´ë„ˆ
        main_frame = ttk.Frame(self.root, padding="5")
        main_frame.pack(fill=tk.BOTH, expand=True)
        
        # ìƒë‹¨ íˆ´ë°”
        self.create_toolbar(main_frame)
        
        # 2-íŒ¨ë„ ë©”ì¸ ì˜ì—­
        self.create_main_panels(main_frame)
        
        # í•˜ë‹¨ ìƒíƒœë°”
        self.create_statusbar(main_frame)
    
    def create_toolbar(self, parent):
        """ê³ ê¸‰ íˆ´ë°”"""
        toolbar = ttk.Frame(parent)
        toolbar.pack(fill=tk.X, pady=(0, 5))
        
        # íŒŒì¼ ê´€ë¦¬ ë²„íŠ¼ë“¤
        file_group = ttk.LabelFrame(toolbar, text="íŒŒì¼ ê´€ë¦¬", padding="5")
        file_group.pack(side=tk.LEFT, fill=tk.Y, padx=(0, 10))
        
        ttk.Button(file_group, text="ğŸ“ íŒŒì¼ ì¶”ê°€", 
                  command=self.add_files, width=12).pack(side=tk.LEFT, padx=(0, 2))
        ttk.Button(file_group, text="ğŸ“‚ í´ë” ì¶”ê°€", 
                  command=self.add_folder, width=12).pack(side=tk.LEFT, padx=(0, 2))
        ttk.Button(file_group, text="ğŸ“‹ í´ë¦½ë³´ë“œ", 
                  command=self.add_from_clipboard, width=12).pack(side=tk.LEFT)
        
        # ì‘ì—… ë²„íŠ¼ë“¤
        action_group = ttk.LabelFrame(toolbar, text="ì‘ì—…", padding="5")
        action_group.pack(side=tk.LEFT, fill=tk.Y, padx=(0, 10))
        
        ttk.Button(action_group, text="ğŸ”„ ìƒˆë¡œê³ ì¹¨", 
                  command=self.refresh_preview, width=10).pack(side=tk.LEFT, padx=(0, 2))
        ttk.Button(action_group, text="âœ… ì‹¤í–‰", 
                  command=self.execute_rename, width=10).pack(side=tk.LEFT, padx=(0, 2))
        ttk.Button(action_group, text="ğŸ’¾ ì„¤ì • ì €ì¥", 
                  command=self.save_settings, width=10).pack(side=tk.LEFT)
        
        # ìœ í‹¸ë¦¬í‹° ë²„íŠ¼ë“¤
        util_group = ttk.LabelFrame(toolbar, text="ìœ í‹¸ë¦¬í‹°", padding="5")
        util_group.pack(side=tk.RIGHT, fill=tk.Y)
        
        ttk.Button(util_group, text="ğŸ—‘ï¸ ì „ì²´ ì‚­ì œ", 
                  command=self.clear_all, width=10).pack(side=tk.LEFT, padx=(0, 2))
        ttk.Button(util_group, text="âš™ï¸ ì´ˆê¸°í™”", 
                  command=self.reset_options, width=10).pack(side=tk.LEFT)
    
    def create_main_panels(self, parent):
        """ë©”ì¸ 2-íŒ¨ë„ ì˜ì—­"""
        # PanedWindowë¡œ ì¢Œìš° ë¶„í• 
        paned = ttk.PanedWindow(parent, orient=tk.HORIZONTAL)
        paned.pack(fill=tk.BOTH, expand=True, pady=(0, 5))
        
        # ì™¼ìª½ íŒ¨ë„ (íŒŒì¼ ê´€ë¦¬ + ì˜µì…˜)
        left_panel = ttk.Frame(paned)
        paned.add(left_panel, weight=1)
        
        # ì˜¤ë¥¸ìª½ íŒ¨ë„ (ë¯¸ë¦¬ë³´ê¸°)
        right_panel = ttk.Frame(paned)
        paned.add(right_panel, weight=1)
        
        self.create_left_panel(left_panel)
        self.create_right_panel(right_panel)
    
    def create_left_panel(self, parent):
        """ì™¼ìª½ íŒ¨ë„ - íŒŒì¼ ê´€ë¦¬ì™€ ì˜µì…˜"""
        # íŒŒì¼ ëª©ë¡ ì„¹ì…˜
        files_group = ttk.LabelFrame(parent, text="íŒŒì¼ ëª©ë¡", padding="10")
        files_group.pack(fill=tk.BOTH, expand=True, pady=(0, 10))
        
        # ê²€ìƒ‰ê³¼ í•„í„°
        search_frame = ttk.Frame(files_group)
        search_frame.pack(fill=tk.X, pady=(0, 5))
        
        ttk.Label(search_frame, text="ê²€ìƒ‰:").pack(side=tk.LEFT)
        search_entry = ttk.Entry(search_frame, textvariable=self.search_text, width=15)
        search_entry.pack(side=tk.LEFT, padx=(5, 10))
        
        ttk.Label(search_frame, text="í•„í„°:").pack(side=tk.LEFT)
        filter_combo = ttk.Combobox(search_frame, textvariable=self.filter_mode,
                                   values=["ëª¨ë“  íŒŒì¼", "ì´ë¯¸ì§€ íŒŒì¼", "ë¬¸ì„œ íŒŒì¼", 
                                          "ë¹„ë””ì˜¤ íŒŒì¼", "ì˜¤ë¥˜ íŒŒì¼ë§Œ"],
                                   width=12, state="readonly")
        filter_combo.pack(side=tk.LEFT, padx=(5, 10))
        
        self.file_count_var = tk.StringVar(value="íŒŒì¼ ê°œìˆ˜: 0")
        ttk.Label(search_frame, textvariable=self.file_count_var,
                 foreground="blue").pack(side=tk.RIGHT)
        
        # íŒŒì¼ ëª©ë¡ (Treeviewë¡œ ì—…ê·¸ë ˆì´ë“œ)
        tree_frame = ttk.Frame(files_group)
        tree_frame.pack(fill=tk.BOTH, expand=True)
        
        # íŒŒì¼ íŠ¸ë¦¬ë·°
        columns = ("í¬ê¸°", "í˜•ì‹", "ê²½ë¡œ")
        self.files_tree = ttk.Treeview(tree_frame, columns=columns, show="tree headings")
        
        # ì»¬ëŸ¼ ì„¤ì •
        self.files_tree.heading("#0", text="íŒŒì¼ëª…", command=lambda: self.sort_files("name"))
        self.files_tree.heading("í¬ê¸°", text="í¬ê¸°", command=lambda: self.sort_files("size"))
        self.files_tree.heading("í˜•ì‹", text="í˜•ì‹", command=lambda: self.sort_files("type"))
        self.files_tree.heading("ê²½ë¡œ", text="ê²½ë¡œ")
        
        self.files_tree.column("#0", width=200)
        self.files_tree.column("í¬ê¸°", width=80, anchor=tk.E)
        self.files_tree.column("í˜•ì‹", width=60, anchor=tk.CENTER)
        self.files_tree.column("ê²½ë¡œ", width=250)
        
        # ìŠ¤í¬ë¡¤ë°”
        tree_scroll = ttk.Scrollbar(tree_frame, orient=tk.VERTICAL,
                                   command=self.files_tree.yview)
        self.files_tree.configure(yscrollcommand=tree_scroll.set)
        
        self.files_tree.pack(side=tk.LEFT, fill=tk.BOTH, expand=True)
        tree_scroll.pack(side=tk.RIGHT, fill=tk.Y)
        
        # íŒŒì¼ ì¡°ì‘ ë²„íŠ¼ë“¤
        file_buttons = ttk.Frame(files_group)
        file_buttons.pack(fill=tk.X, pady=(5, 0))
        
        ttk.Button(file_buttons, text="âŒ ì„ íƒ ì‚­ì œ",
                  command=self.remove_selected, width=10).pack(side=tk.LEFT, padx=(0, 5))
        ttk.Button(file_buttons, text="ğŸ”º ìœ„ë¡œ",
                  command=self.move_up, width=8).pack(side=tk.LEFT, padx=(0, 5))
        ttk.Button(file_buttons, text="ğŸ”» ì•„ë˜ë¡œ",
                  command=self.move_down, width=8).pack(side=tk.LEFT, padx=(0, 5))
        ttk.Button(file_buttons, text="ğŸ“‹ ê²½ë¡œ ë³µì‚¬",
                  command=self.copy_selected_paths, width=10).pack(side=tk.RIGHT)
        
        # ì´ë¦„ ë³€ê²½ ì˜µì…˜ ì„¹ì…˜
        options_group = ttk.LabelFrame(parent, text="ì´ë¦„ ë³€ê²½ ì˜µì…˜", padding="10")
        options_group.pack(fill=tk.X)
        
        self.create_rename_options(options_group)
    
    def create_rename_options(self, parent):
        """í–¥ìƒëœ ì´ë¦„ ë³€ê²½ ì˜µì…˜ ìœ„ì ¯ë“¤"""
        # ì ‘ë‘ì‚¬/ì ‘ë¯¸ì‚¬
        prefix_frame = ttk.Frame(parent)
        prefix_frame.pack(fill=tk.X, pady=(0, 5))
        
        ttk.Label(prefix_frame, text="ì ‘ë‘ì‚¬:", width=8).pack(side=tk.LEFT)
        self.prefix_var = tk.StringVar()
        ttk.Entry(prefix_frame, textvariable=self.prefix_var, width=15).pack(side=tk.LEFT, padx=(5, 15))
        
        ttk.Label(prefix_frame, text="ì ‘ë¯¸ì‚¬:", width=8).pack(side=tk.LEFT)
        self.suffix_var = tk.StringVar()
        ttk.Entry(prefix_frame, textvariable=self.suffix_var, width=15).pack(side=tk.LEFT, padx=(5, 0))
        
        # ì°¾ê¸°/ë°”ê¾¸ê¸° (ì •ê·œí‘œí˜„ì‹ ì§€ì›)
        replace_frame = ttk.Frame(parent)
        replace_frame.pack(fill=tk.X, pady=(0, 5))
        
        ttk.Label(replace_frame, text="ì°¾ê¸°:", width=8).pack(side=tk.LEFT)
        self.find_var = tk.StringVar()
        find_entry = ttk.Entry(replace_frame, textvariable=self.find_var, width=15)
        find_entry.pack(side=tk.LEFT, padx=(5, 15))
        
        ttk.Label(replace_frame, text="ë°”ê¾¸ê¸°:", width=8).pack(side=tk.LEFT)
        self.replace_var = tk.StringVar()
        ttk.Entry(replace_frame, textvariable=self.replace_var, width=15).pack(side=tk.LEFT, padx=(5, 10))
        
        self.use_regex_var = tk.BooleanVar()
        ttk.Checkbutton(replace_frame, text="ì •ê·œì‹", 
                       variable=self.use_regex_var).pack(side=tk.LEFT)
        
        # ìˆœë²ˆ ë§¤ê¸°ê¸°
        number_frame = ttk.Frame(parent)
        number_frame.pack(fill=tk.X, pady=(0, 5))
        
        self.use_numbering_var = tk.BooleanVar()
        ttk.Checkbutton(number_frame, text="ìˆœë²ˆ ë§¤ê¸°ê¸°", 
                       variable=self.use_numbering_var).pack(side=tk.LEFT)
        
        ttk.Label(number_frame, text="ì‹œì‘:").pack(side=tk.LEFT, padx=(15, 5))
        self.number_start_var = tk.IntVar(value=1)
        ttk.Spinbox(number_frame, from_=1, to=9999, width=6,
                   textvariable=self.number_start_var).pack(side=tk.LEFT, padx=(0, 10))
        
        ttk.Label(number_frame, text="ìë¦¿ìˆ˜:").pack(side=tk.LEFT, padx=(0, 5))
        self.number_digits_var = tk.IntVar(value=3)
        ttk.Spinbox(number_frame, from_=1, to=6, width=4,
                   textvariable=self.number_digits_var).pack(side=tk.LEFT, padx=(0, 10))
        
        ttk.Label(number_frame, text="êµ¬ë¶„ì:").pack(side=tk.LEFT, padx=(0, 5))
        self.number_separator_var = tk.StringVar(value="_")
        separator_combo = ttk.Combobox(number_frame, textvariable=self.number_separator_var,
                                      values=["_", "-", ".", " ", ""], width=4, state="readonly")
        separator_combo.pack(side=tk.LEFT)
        
        # ëŒ€ì†Œë¬¸ì ë³€í™˜
        case_frame = ttk.Frame(parent)
        case_frame.pack(fill=tk.X, pady=(0, 5))
        
        ttk.Label(case_frame, text="ëŒ€ì†Œë¬¸ì:").pack(side=tk.LEFT)
        self.case_mode_var = tk.StringVar(value="ë³€ê²½ ì•ˆí•¨")
        case_combo = ttk.Combobox(case_frame, textvariable=self.case_mode_var,
                                 values=["ë³€ê²½ ì•ˆí•¨", "ì†Œë¬¸ì", "ëŒ€ë¬¸ì", "ì²«ê¸€ìë§Œ ëŒ€ë¬¸ì", "ë‹¨ì–´ë³„ ì²«ê¸€ì ëŒ€ë¬¸ì"],
                                 width=15, state="readonly")
        case_combo.pack(side=tk.LEFT, padx=(5, 0))
    
    def create_right_panel(self, parent):
        """ì˜¤ë¥¸ìª½ íŒ¨ë„ - ê³ ê¸‰ ë¯¸ë¦¬ë³´ê¸°"""
        preview_group = ttk.LabelFrame(parent, text="ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°", padding="10")
        preview_group.pack(fill=tk.BOTH, expand=True)
        
        # ë¯¸ë¦¬ë³´ê¸° ì»¨íŠ¸ë¡¤
        control_frame = ttk.Frame(preview_group)
        control_frame.pack(fill=tk.X, pady=(0, 5))
        
        self.preview_mode_var = tk.StringVar(value="ëª¨ë‘ ë³´ê¸°")
        mode_combo = ttk.Combobox(control_frame, textvariable=self.preview_mode_var,
                                 values=["ëª¨ë‘ ë³´ê¸°", "ë³€ê²½ëœ íŒŒì¼ë§Œ", "ì˜¤ë¥˜ íŒŒì¼ë§Œ", "ìœ íš¨í•œ íŒŒì¼ë§Œ"],
                                 width=12, state="readonly")
        mode_combo.pack(side=tk.LEFT, padx=(0, 10))
        
        ttk.Button(control_frame, text="ğŸ“„ ê²°ê³¼ ë‚´ë³´ë‚´ê¸°",
                  command=self.export_preview).pack(side=tk.RIGHT)
        
        # ë¯¸ë¦¬ë³´ê¸° í…Œì´ë¸”
        tree_frame = ttk.Frame(preview_group)
        tree_frame.pack(fill=tk.BOTH, expand=True)
        
        columns = ("ìˆœë²ˆ", "ì›ë³¸ íŒŒì¼ëª…", "ìƒˆ íŒŒì¼ëª…", "ë³€ê²½ì‚¬í•­", "ìƒíƒœ")
        self.preview_tree = ttk.Treeview(tree_frame, columns=columns, show="headings")
        
        # ì»¬ëŸ¼ ì„¤ì •
        self.preview_tree.heading("ìˆœë²ˆ", text="#")
        self.preview_tree.heading("ì›ë³¸ íŒŒì¼ëª…", text="ì›ë³¸ íŒŒì¼ëª…")
        self.preview_tree.heading("ìƒˆ íŒŒì¼ëª…", text="ìƒˆ íŒŒì¼ëª…")
        self.preview_tree.heading("ë³€ê²½ì‚¬í•­", text="ë³€ê²½ì‚¬í•­")
        self.preview_tree.heading("ìƒíƒœ", text="ìƒíƒœ")
        
        self.preview_tree.column("ìˆœë²ˆ", width=40, anchor=tk.CENTER)
        self.preview_tree.column("ì›ë³¸ íŒŒì¼ëª…", width=180)
        self.preview_tree.column("ìƒˆ íŒŒì¼ëª…", width=180)
        self.preview_tree.column("ë³€ê²½ì‚¬í•­", width=100, anchor=tk.CENTER)
        self.preview_tree.column("ìƒíƒœ", width=80, anchor=tk.CENTER)
        
        # ìŠ¤í¬ë¡¤ë°”
        preview_scroll = ttk.Scrollbar(tree_frame, orient=tk.VERTICAL,
                                      command=self.preview_tree.yview)
        self.preview_tree.configure(yscrollcommand=preview_scroll.set)
        
        self.preview_tree.pack(side=tk.LEFT, fill=tk.BOTH, expand=True)
        preview_scroll.pack(side=tk.RIGHT, fill=tk.Y)
        
        # ë¯¸ë¦¬ë³´ê¸° í†µê³„ ë° ì§„í–‰ ìƒí™©
        stats_frame = ttk.Frame(preview_group)
        stats_frame.pack(fill=tk.X, pady=(10, 0))
        
        self.preview_stats_var = tk.StringVar(value="ë³€ê²½ ì˜ˆì •: 0ê°œ, ì˜¤ë¥˜: 0ê°œ")
        ttk.Label(stats_frame, textvariable=self.preview_stats_var,
                 foreground="darkgreen").pack(side=tk.LEFT)
        
        # ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì§„í–‰ë°” (ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬ì‹œ)
        self.progress_var = tk.DoubleVar()
        self.progress_bar = ttk.Progressbar(stats_frame, variable=self.progress_var,
                                           mode='determinate', length=100)
        # í•„ìš”ì‹œì—ë§Œ í‘œì‹œ
        
    def create_statusbar(self, parent):
        """í•˜ë‹¨ ìƒíƒœë°”"""
        statusbar = ttk.Frame(parent)
        statusbar.pack(fill=tk.X, pady=(5, 0))
        
        self.status_var = tk.StringVar(value="ì¤€ë¹„")
        ttk.Label(statusbar, textvariable=self.status_var).pack(side=tk.LEFT)
        
        # íŒŒì¼ í†µê³„
        self.file_stats_var = tk.StringVar(value="")
        ttk.Label(statusbar, textvariable=self.file_stats_var).pack(side=tk.RIGHT)
        
        # ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì•ˆë‚´
        if DND_AVAILABLE:
            ttk.Label(statusbar, text="ğŸ’¡ íŒŒì¼ì„ ì—¬ê¸°ë¡œ ë“œë˜ê·¸í•´ì„œ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                     foreground="gray").pack(side=tk.LEFT, padx=(20, 0))
```

### ì‹¤í–‰ ê²°ê³¼

![Step 3 ê²°ê³¼](images/ch5_step3.png)

Step 3ì—ì„œëŠ” ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ì‹œìŠ¤í…œì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤. ë“œë˜ê·¸ ì•¤ ë“œë¡­, ì •ê·œí‘œí˜„ì‹ ì§€ì›, ê³ ê¸‰ í•„í„°ë§ ë“± ì „ë¬¸ì ì¸ ê¸°ëŠ¥ë“¤ì´ ì¶”ê°€ë˜ì–´ ì‚¬ìš©ì ê²½í—˜ì´ í¬ê²Œ í–¥ìƒë˜ì—ˆìŠµë‹ˆë‹¤.

### ğŸ’¡ Step 3ì—ì„œ ì¶”ê°€ëœ ê³ ê¸‰ ê¸°ëŠ¥ë“¤

1. **ë“œë˜ê·¸ ì•¤ ë“œë¡­**: tkinterdnd2ë¥¼ í†µí•œ íŒŒì¼ ëŒì–´ì„œ ë†“ê¸°
2. **ì •ê·œí‘œí˜„ì‹**: ë³µì¡í•œ íŒ¨í„´ ë§¤ì¹­ê³¼ ì¹˜í™˜ ì§€ì›
3. **ê³ ê¸‰ í•„í„°ë§**: íŒŒì¼ í˜•ì‹, ì˜¤ë¥˜ ìƒíƒœë³„ í•„í„°
4. **ê²€ìƒ‰ ê¸°ëŠ¥**: ì‹¤ì‹œê°„ íŒŒì¼ëª… ê²€ìƒ‰
5. **ì •ë ¬**: ì´ë¦„, í¬ê¸°, í˜•ì‹ë³„ ì •ë ¬
6. **ëŒ€ì†Œë¬¸ì ë³€í™˜**: ë‹¤ì–‘í•œ ì¼€ì´ìŠ¤ ë³€í™˜ ì˜µì…˜
7. **ë¯¸ë¦¬ë³´ê¸° ë‚´ë³´ë‚´ê¸°**: CSV/TXT í˜•íƒœë¡œ ê²°ê³¼ ì €ì¥

---

## ğŸ¯ Step 4: ê³ ê¸‰ UI ê°œì„ ê³¼ ì¸í„°ë™ì…˜

### ëª©í‘œ
ì „ë¬¸ì ì¸ ë©”ë‰´ ì‹œìŠ¤í…œ, í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤, ì„¤ì • ê´€ë¦¬, í”„ë¦¬ì…‹ ì‹œìŠ¤í…œ ë“±ì„ ì¶”ê°€í•˜ì—¬ ì™„ì „í•œ ì „ë¬¸ ë„êµ¬ë¡œ ë°œì „ì‹œí‚µë‹ˆë‹¤.

### step4_advanced_ui.pyì˜ í•µì‹¬ ê¸°ëŠ¥

```python
# ë©”ë‰´ ì‹œìŠ¤í…œ
def create_menu_bar(self):
    """ì „ë¬¸ì ì¸ ë©”ë‰´ ë°”"""
    menubar = tk.Menu(self.root)
    self.root.config(menu=menubar)
    
    # íŒŒì¼ ë©”ë‰´
    file_menu = tk.Menu(menubar, tearoff=0)
    menubar.add_cascade(label="íŒŒì¼(F)", menu=file_menu, underline=0)
    file_menu.add_command(label="íŒŒì¼ ì¶”ê°€...", accelerator="Ctrl+O", 
                         command=self.add_files, underline=0)
    file_menu.add_command(label="í´ë” ì¶”ê°€...", accelerator="Ctrl+Shift+O", 
                         command=self.add_folder, underline=0)
    file_menu.add_separator()
    file_menu.add_command(label="ì„¤ì • ì €ì¥...", accelerator="Ctrl+S", 
                         command=self.save_settings, underline=0)
    file_menu.add_command(label="ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°...", accelerator="Ctrl+L", 
                         command=self.load_settings, underline=2)
    file_menu.add_separator()
    file_menu.add_command(label="ì¢…ë£Œ", accelerator="Alt+F4", 
                         command=self.quit_app, underline=0)
    
    # í¸ì§‘ ë©”ë‰´
    edit_menu = tk.Menu(menubar, tearoff=0)
    menubar.add_cascade(label="í¸ì§‘(E)", menu=edit_menu, underline=0)
    edit_menu.add_command(label="ëª¨ë‘ ì„ íƒ", accelerator="Ctrl+A", 
                         command=self.select_all_files, underline=2)
    edit_menu.add_command(label="ì„ íƒ í•´ì œ", accelerator="Ctrl+D", 
                         command=self.deselect_all_files, underline=0)
    edit_menu.add_separator()
    edit_menu.add_command(label="ì„ íƒ íŒŒì¼ ì œê±°", accelerator="Delete", 
                         command=self.remove_selected, underline=0)
    edit_menu.add_command(label="ëª¨ë“  íŒŒì¼ ì œê±°", accelerator="Ctrl+Delete", 
                         command=self.clear_all, underline=2)
    
    # ë„êµ¬ ë©”ë‰´
    tools_menu = tk.Menu(menubar, tearoff=0)
    menubar.add_cascade(label="ë„êµ¬(T)", menu=tools_menu, underline=0)
    tools_menu.add_command(label="ë¯¸ë¦¬ë³´ê¸° ìƒˆë¡œê³ ì¹¨", accelerator="F5", 
                          command=self.refresh_preview, underline=0)
    tools_menu.add_command(label="ì´ë¦„ ë³€ê²½ ì‹¤í–‰", accelerator="Ctrl+Enter", 
                          command=self.execute_rename, underline=0)
    tools_menu.add_separator()
    tools_menu.add_command(label="ì„¤ì • ì´ˆê¸°í™”", accelerator="Ctrl+R", 
                          command=self.reset_options, underline=0)
    tools_menu.add_command(label="í”„ë¡œê·¸ë¨ ì •ë³´", 
                          command=self.show_about, underline=0)

# í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
def bind_keyboard_shortcuts(self):
    """í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ë°”ì¸ë”©"""
    # íŒŒì¼ ê´€ë¦¬
    self.root.bind('<Control-o>', lambda e: self.add_files())
    self.root.bind('<Control-O>', lambda e: self.add_folder())
    self.root.bind('<Delete>', lambda e: self.remove_selected())
    self.root.bind('<Control-Delete>', lambda e: self.clear_all())
    
    # í¸ì§‘
    self.root.bind('<Control-a>', lambda e: self.select_all_files())
    self.root.bind('<Control-d>', lambda e: self.deselect_all_files())
    
    # ì‘ì—…
    self.root.bind('<F5>', lambda e: self.refresh_preview())
    self.root.bind('<Control-Return>', lambda e: self.execute_rename())
    self.root.bind('<Control-r>', lambda e: self.reset_options())
    
    # ì„¤ì •
    self.root.bind('<Control-s>', lambda e: self.save_settings())
    self.root.bind('<Control-l>', lambda e: self.load_settings())
    
    # ì¢…ë£Œ
    self.root.bind('<Alt-F4>', lambda e: self.quit_app())
    
    # ESCë¡œ ì„ íƒ í•´ì œ
    self.root.bind('<Escape>', lambda e: self.deselect_all_files())

# ì„¤ì • ê´€ë¦¬
def save_settings(self, filename=None):
    """í˜„ì¬ ì„¤ì •ì„ JSON íŒŒì¼ë¡œ ì €ì¥"""
    if filename is None:
        filename = filedialog.asksaveasfilename(
            title="ì„¤ì • ì €ì¥",
            defaultextension=".json",
            filetypes=[("JSON íŒŒì¼", "*.json"), ("ëª¨ë“  íŒŒì¼", "*.*")]
        )
        
    if not filename:
        return
    
    settings = {
        'prefix': self.prefix_var.get(),
        'suffix': self.suffix_var.get(),
        'find_text': self.find_var.get(),
        'replace_text': self.replace_var.get(),
        'use_regex': self.use_regex_var.get(),
        'use_numbering': self.use_numbering_var.get(),
        'number_start': self.number_start_var.get(),
        'number_digits': self.number_digits_var.get(),
        'number_separator': self.number_separator_var.get(),
        'case_mode': self.case_mode_var.get(),
        'filter_mode': self.filter_mode.get(),
        'preview_mode': self.preview_mode_var.get(),
        'window_geometry': self.root.geometry(),
        'created_time': datetime.now().isoformat()
    }
    
    try:
        with open(filename, 'w', encoding='utf-8') as f:
            json.dump(settings, f, indent=2, ensure_ascii=False)
        
        self.status_var.set(f"ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤: {os.path.basename(filename)}")
        messagebox.showinfo("ì„±ê³µ", f"ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\n{filename}")
        
    except Exception as e:
        messagebox.showerror("ì˜¤ë¥˜", f"ì„¤ì • ì €ì¥ ì‹¤íŒ¨: {str(e)}")

# í”„ë¦¬ì…‹ ì‹œìŠ¤í…œ
def create_preset_panel(self, parent):
    """í”„ë¦¬ì…‹ ê´€ë¦¬ íŒ¨ë„"""
    preset_group = ttk.LabelFrame(parent, text="í”„ë¦¬ì…‹", padding="5")
    preset_group.pack(fill=tk.X, pady=(5, 0))
    
    preset_frame = ttk.Frame(preset_group)
    preset_frame.pack(fill=tk.X)
    
    self.preset_var = tk.StringVar()
    self.preset_combo = ttk.Combobox(preset_frame, textvariable=self.preset_var,
                                    width=20, state="readonly")
    self.preset_combo.pack(side=tk.LEFT, padx=(0, 5))
    
    ttk.Button(preset_frame, text="ì ìš©", width=6,
              command=self.apply_preset).pack(side=tk.LEFT, padx=(0, 2))
    ttk.Button(preset_frame, text="ì €ì¥", width=6,
              command=self.save_preset).pack(side=tk.LEFT, padx=(0, 2))
    ttk.Button(preset_frame, text="ì‚­ì œ", width=6,
              command=self.delete_preset).pack(side=tk.LEFT)
    
    self.load_presets()
```

### ì‹¤í–‰ ê²°ê³¼

![Step 4 ê²°ê³¼](images/ch5_step4.png)

Step 4ì—ì„œëŠ” ì „ë¬¸ì ì¸ ë©”ë‰´ ì‹œìŠ¤í…œê³¼ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤, ì„¤ì • ê´€ë¦¬ ë“±ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. ì´ì œ ì§„ì •í•œ ì „ë¬¸ ë„êµ¬ë‹¤ìš´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°–ì¶”ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

### ğŸ’¡ Step 4ì—ì„œ ì¶”ê°€ëœ ì „ë¬¸ ê¸°ëŠ¥ë“¤

1. **ì „ë¬¸ ë©”ë‰´ ì‹œìŠ¤í…œ**: ì ‘ê·¼ì„± ë†’ì€ ë©”ë‰´ë°”ì™€ ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´
2. **í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤**: ë¹ ë¥¸ ì‘ì—…ì„ ìœ„í•œ ë‹¨ì¶•í‚¤ ì§€ì›
3. **ì„¤ì • ê´€ë¦¬**: JSON í˜•íƒœì˜ ì„¤ì • ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°
4. **í”„ë¦¬ì…‹ ì‹œìŠ¤í…œ**: ìì£¼ ì‚¬ìš©í•˜ëŠ” ì„¤ì • ì¡°í•© ì €ì¥
5. **ë„ì›€ë§ ì‹œìŠ¤í…œ**: í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ë° ì •ê·œì‹ ê°€ì´ë“œ
6. **ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸°**: ë¯¸ë¦¬ë³´ê¸° ê²°ê³¼ë¥¼ ë‹¤ì–‘í•œ í˜•ì‹ìœ¼ë¡œ ë‚´ë³´ë‚´ê¸°
7. **ê³ ê¸‰ UI íŒ¨í„´**: ìƒíƒœ í‘œì‹œ, ì§„í–‰ë¥  í‘œì‹œ, íˆ´íŒ

---

## ğŸ† Step 5: ì™„ì„±ëœ ì „ë¬¸ì  ì¸í„°í˜ì´ìŠ¤

### ëª©í‘œ
ë©€í‹°ìŠ¤ë ˆë”©, ë°±ì—… ì‹œìŠ¤í…œ, ë¡œê¹…, ë°°ì¹˜ ì²˜ë¦¬ ë“±ì˜ ì „ë¬¸ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì—¬ ì™„ì „í•œ ì „ë¬¸ ë„êµ¬ë¡œ ì™„ì„±í•©ë‹ˆë‹¤.

### step5_professional.pyì˜ í•µì‹¬ ì•„í‚¤í…ì²˜

```python
# ë°±ì—… ë§¤ë‹ˆì €
class BackupManager:
    """íŒŒì¼ ë°±ì—… ë° ë³µêµ¬ ê´€ë¦¬"""
    
    def __init__(self, backup_dir="backups"):
        self.backup_dir = Path(backup_dir)
        self.backup_dir.mkdir(exist_ok=True)
        self.metadata_file = self.backup_dir / "backup_metadata.json"
        self.load_metadata()
    
    def create_backup(self, files_to_rename):
        """íŒŒì¼ ë³€ê²½ ì „ ë°±ì—… ìƒì„±"""
        backup_id = datetime.now().strftime("%Y%m%d_%H%M%S")
        backup_path = self.backup_dir / f"backup_{backup_id}"
        backup_path.mkdir(exist_ok=True)
        
        backup_info = {
            'id': backup_id,
            'timestamp': datetime.now().isoformat(),
            'files': [],
            'backup_path': str(backup_path)
        }
        
        # íŒŒì¼ë“¤ì„ ë°±ì—… í´ë”ë¡œ ë³µì‚¬
        for original_path, new_name in files_to_rename:
            if os.path.exists(original_path):
                backup_file_path = backup_path / Path(original_path).name
                shutil.copy2(original_path, backup_file_path)
                
                backup_info['files'].append({
                    'original_path': original_path,
                    'original_name': Path(original_path).name,
                    'new_name': new_name,
                    'backup_file': str(backup_file_path)
                })
        
        self.metadata['backups'].append(backup_info)
        self.save_metadata()
        
        return backup_id

# í”„ë¡œê·¸ë ˆìŠ¤ ë‹¤ì´ì–¼ë¡œê·¸
class ProgressDialog:
    """ì§„í–‰ ìƒí™© í‘œì‹œ ë‹¤ì´ì–¼ë¡œê·¸"""
    
    def __init__(self, parent, title="ì‘ì—… ì§„í–‰ ì¤‘"):
        self.parent = parent
        self.dialog = tk.Toplevel(parent)
        self.dialog.title(title)
        self.dialog.geometry("400x150")
        self.dialog.resizable(False, False)
        self.dialog.transient(parent)
        self.dialog.grab_set()
        
        # ë‹¤ì´ì–¼ë¡œê·¸ ì¤‘ì•™ ë°°ì¹˜
        self.dialog.geometry("+%d+%d" % 
                           (parent.winfo_rootx() + 50, parent.winfo_rooty() + 50))
        
        self.cancelled = False
        self.create_widgets()
    
    def create_widgets(self):
        main_frame = ttk.Frame(self.dialog, padding="20")
        main_frame.pack(fill=tk.BOTH, expand=True)
        
        # í˜„ì¬ ì‘ì—… í‘œì‹œ
        self.current_task_var = tk.StringVar(value="ì‘ì—… ì¤€ë¹„ ì¤‘...")
        ttk.Label(main_frame, textvariable=self.current_task_var, 
                 font=("ë§‘ì€ ê³ ë”•", 10)).pack(pady=(0, 10))
        
        # ì§„í–‰ë¥  í‘œì‹œ
        self.progress_var = tk.DoubleVar()
        self.progress_bar = ttk.Progressbar(main_frame, variable=self.progress_var,
                                           mode='determinate', length=350)
        self.progress_bar.pack(pady=(0, 10))
        
        # ì§„í–‰ë¥  í…ìŠ¤íŠ¸
        self.progress_text_var = tk.StringVar(value="0 / 0 (0%)")
        ttk.Label(main_frame, textvariable=self.progress_text_var).pack(pady=(0, 10))
        
        # ì·¨ì†Œ ë²„íŠ¼
        ttk.Button(main_frame, text="ì·¨ì†Œ", command=self.cancel).pack()
    
    def update_progress(self, current, total, task_name=""):
        """ì§„í–‰ ìƒí™© ì—…ë°ì´íŠ¸"""
        if total > 0:
            progress = (current / total) * 100
            self.progress_var.set(progress)
            self.progress_text_var.set(f"{current} / {total} ({progress:.1f}%)")
        
        if task_name:
            self.current_task_var.set(task_name)
        
        self.dialog.update()
        return not self.cancelled

# ë©€í‹°ìŠ¤ë ˆë”© ì‹¤í–‰
def execute_rename_threaded(self):
    """ë³„ë„ ìŠ¤ë ˆë“œì—ì„œ íŒŒì¼ëª… ë³€ê²½ ì‹¤í–‰"""
    if self.engine.get_file_count() == 0:
        messagebox.showwarning("ê²½ê³ ", "ë³€ê²½í•  íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.")
        return
    
    # ë°±ì—… ìƒì„± ì—¬ë¶€ í™•ì¸
    if self.create_backup_var.get():
        if not messagebox.askyesno("ë°±ì—… í™•ì¸", 
                                  "íŒŒì¼ ë³€ê²½ ì „ì— ë°±ì—…ì„ ìƒì„±í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n" +
                                  "(ê¶Œì¥: ì‹¤ìˆ˜ë¡œ ì¸í•œ ë°ì´í„° ì†ì‹¤ ë°©ì§€)"):
            return
    
    # ì§„í–‰ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ
    progress_dialog = ProgressDialog(self.root, "íŒŒì¼ëª… ë³€ê²½ ì¤‘")
    
    # ë³„ë„ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰
    def rename_thread():
        try:
            preview = self.engine.generate_preview()
            valid_changes = [(i, original, new) for i, (original, new, is_valid, _) 
                           in enumerate(preview) if is_valid]
            
            if not valid_changes:
                self.root.after(0, lambda: messagebox.showwarning("ê²½ê³ ", "ë³€ê²½í•  ìˆ˜ ìˆëŠ” íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤."))
                return
            
            # ë°±ì—… ìƒì„±
            backup_id = None
            if self.create_backup_var.get():
                files_to_backup = [(self.engine.files[i], new) for i, original, new in valid_changes]
                backup_id = self.backup_manager.create_backup(files_to_backup)
            
            results = {'success': 0, 'failed': 0, 'errors': [], 'renamed_files': []}
            
            for idx, (i, original_name, new_name) in enumerate(valid_changes):
                if progress_dialog.cancelled:
                    break
                
                # ì§„í–‰ ìƒí™© ì—…ë°ì´íŠ¸
                if not progress_dialog.update_progress(idx + 1, len(valid_changes), 
                                                      f"ì²˜ë¦¬ ì¤‘: {original_name}"):
                    break
                
                original_path = self.engine.files[i]
                directory = os.path.dirname(original_path)
                new_path = os.path.join(directory, new_name)
                
                try:
                    if original_name != new_name:  # ì‹¤ì œ ë³€ê²½ì´ í•„ìš”í•œ ê²½ìš°ë§Œ
                        os.rename(original_path, new_path)
                        self.engine.files[i] = new_path
                        results['success'] += 1
                        results['renamed_files'].append((original_path, new_path))
                        
                        # ë¡œê·¸ ê¸°ë¡
                        self.logger.info(f"íŒŒì¼ëª… ë³€ê²½ ì„±ê³µ: {original_name} -> {new_name}")
                        
                except Exception as e:
                    results['failed'] += 1
                    results['errors'].append(f"{original_name}: {str(e)}")
                    self.logger.error(f"íŒŒì¼ëª… ë³€ê²½ ì‹¤íŒ¨: {original_name} -> {new_name}, ì˜¤ë¥˜: {str(e)}")
                
                time.sleep(0.01)  # UI ì‘ë‹µì„± í™•ë³´
            
            # UI ì—…ë°ì´íŠ¸ëŠ” ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ
            self.root.after(0, lambda: self.on_rename_completed(results, backup_id, progress_dialog))
            
        except Exception as e:
            self.root.after(0, lambda: messagebox.showerror("ì˜¤ë¥˜", f"íŒŒì¼ëª… ë³€ê²½ ì¤‘ ì˜ˆê¸°ì¹˜ ëª»í•œ ì˜¤ë¥˜: {str(e)}"))
            self.logger.error(f"íŒŒì¼ëª… ë³€ê²½ ì¤‘ ì˜ˆì™¸ ë°œìƒ: {str(e)}")
        
        finally:
            self.root.after(0, progress_dialog.close)
    
    # ìŠ¤ë ˆë“œ ì‹œì‘
    threading.Thread(target=rename_thread, daemon=True).start()

# ë¡œê¹… ì‹œìŠ¤í…œ
def setup_logging(self):
    """ë¡œê¹… ì‹œìŠ¤í…œ ì´ˆê¸°í™”"""
    log_dir = Path("logs")
    log_dir.mkdir(exist_ok=True)
    
    log_filename = log_dir / f"krenamer_{datetime.now().strftime('%Y%m%d')}.log"
    
    logging.basicConfig(
        level=logging.INFO,
        format='%(asctime)s - %(levelname)s - %(message)s',
        handlers=[
            logging.FileHandler(log_filename, encoding='utf-8'),
            logging.StreamHandler()  # ì½˜ì†” ì¶œë ¥ë„ ìœ ì§€
        ]
    )
    
    self.logger = logging.getLogger(__name__)
    self.logger.info("KRenamer ì‹œì‘")
    
    # ì‹œì‘ ì‹œ ì‹œìŠ¤í…œ ì •ë³´ ë¡œê·¸
    self.logger.info(f"Python ë²„ì „: {sys.version}")
    self.logger.info(f"tkinter DnD ì‚¬ìš© ê°€ëŠ¥: {DND_AVAILABLE}")
    self.logger.info(f"ì‘ì—… ë””ë ‰í† ë¦¬: {os.getcwd()}")
```

### ì‹¤í–‰ ê²°ê³¼

![Step 5 ê²°ê³¼](images/ch5_step5.png)

Step 5ì—ì„œëŠ” ë©€í‹°ìŠ¤ë ˆë”©, ë°±ì—… ì‹œìŠ¤í…œ, ì§„í–‰ ìƒí™© í‘œì‹œ, ë¡œê¹… ë“± ì™„ì „í•œ ì „ë¬¸ ë„êµ¬ì˜ ê¸°ëŠ¥ì„ ëª¨ë‘ ê°–ì¶”ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ ëŒ€ìš©ëŸ‰ íŒŒì¼ë„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì™„ì„±ëœ KRenamerì…ë‹ˆë‹¤.

### ğŸ’¡ Step 5ì˜ ì „ë¬¸ ê¸°ëŠ¥ë“¤

1. **ë©€í‹°ìŠ¤ë ˆë”©**: UI ë¸”ë¡œí‚¹ ì—†ëŠ” ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬
2. **ë°±ì—… ì‹œìŠ¤í…œ**: ìë™ ë°±ì—… ìƒì„±ê³¼ ë³µêµ¬ ê¸°ëŠ¥
3. **ì§„í–‰ ìƒí™© í‘œì‹œ**: ì‹¤ì‹œê°„ ì§„í–‰ë¥ ê³¼ ì·¨ì†Œ ê¸°ëŠ¥
4. **ë¡œê¹… ì‹œìŠ¤í…œ**: ìƒì„¸í•œ ì‘ì—… ê¸°ë¡ê³¼ ì˜¤ë¥˜ ì¶”ì 
5. **ë°°ì¹˜ ì²˜ë¦¬**: í´ë” ë‹¨ìœ„ ëŒ€ëŸ‰ ì²˜ë¦¬ ì§€ì›
6. **ì¤‘ë³µ ê²€ì‚¬**: íŒŒì¼ëª… ì¶©ëŒ ìë™ ê°ì§€
7. **ë³µêµ¬ ì‹œìŠ¤í…œ**: ë°±ì—…ì„ í†µí•œ ì›ìƒ ë³µêµ¬
8. **ì„¤ì • ë§ˆì´ê·¸ë ˆì´ì…˜**: ë²„ì „ ê°„ ì„¤ì • í˜¸í™˜ì„±

---

## ğŸ“š ì´ë²ˆ ì±•í„°ì—ì„œ ë°°ìš´ ê²ƒë“¤

### í•µì‹¬ ì•„í‚¤í…ì²˜ íŒ¨í„´

1. **MVC íŒ¨í„´**: Model(Engine) - View(GUI) - Controller(Event Handlers) ë¶„ë¦¬
2. **Observer íŒ¨í„´**: ì½œë°±ì„ í†µí•œ ìƒíƒœ ë³€ê²½ ì•Œë¦¼
3. **Command íŒ¨í„´**: ì‚¬ìš©ì ì‘ì—…ì„ ëª…ë ¹ ê°ì²´ë¡œ ìº¡ìŠí™”
4. **Strategy íŒ¨í„´**: ë‹¤ì–‘í•œ ì´ë¦„ ë³€ê²½ ì „ëµ ì§€ì›

### 2-íŒ¨ë„ ë ˆì´ì•„ì›ƒì˜ ì¥ì 

1. **íš¨ìœ¨ì  ê³µê°„ í™œìš©**: ì¢Œìš° ë¶„í• ë¡œ ë” ë§ì€ ì •ë³´ í‘œì‹œ
2. **ì‘ì—… íë¦„ ê°œì„ **: ì…ë ¥ â†’ ë¯¸ë¦¬ë³´ê¸° â†’ ì‹¤í–‰ì˜ ìì—°ìŠ¤ëŸ¬ìš´ íë¦„
3. **ë™ì‹œ ë¹„êµ**: ì›ë³¸ê³¼ ê²°ê³¼ë¥¼ ë™ì‹œì— í™•ì¸ ê°€ëŠ¥
4. **ì „ë¬¸ì  ì™¸ê´€**: ë³µì¡í•œ ë„êµ¬ì— ì í•©í•œ ì¸í„°í˜ì´ìŠ¤

### ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°ì˜ í•µì‹¬

1. **ì¦‰ì‹œì„±**: ì˜µì…˜ ë³€ê²½ ì‹œ ì§€ì—° ì—†ëŠ” ê²°ê³¼ í‘œì‹œ
2. **ì •í™•ì„±**: ì‹¤ì œ ì‹¤í–‰ ê²°ê³¼ì™€ 100% ì¼ì¹˜í•˜ëŠ” ë¯¸ë¦¬ë³´ê¸°
3. **ì•ˆì „ì„±**: ë¬¸ì œê°€ ìˆëŠ” ë³€ê²½ì‚¬í•­ ì‚¬ì „ ê²½ê³ 
4. **ì§ê´€ì„±**: ìƒ‰ìƒê³¼ ì•„ì´ì½˜ìœ¼ë¡œ ìƒíƒœë¥¼ ëª…í™•íˆ í‘œí˜„

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„ ì˜ˆê³ 

ë‹¤ìŒ [Chapter 6](chapter6.md)ì—ì„œëŠ” ë” ê³ ê¸‰ ê¸°ëŠ¥ë“¤ì„ ì¶”ê°€í•´ë³´ê² ìŠµë‹ˆë‹¤:

- **ì¡°ê±´ë¶€ í•„í„°ë§**: íŒŒì¼ í˜•ì‹, í¬ê¸°, ë‚ ì§œë³„ í•„í„°
- **ì •ê·œí‘œí˜„ì‹**: ë³µì¡í•œ íŒ¨í„´ ë§¤ì¹­ê³¼ ì¹˜í™˜
- **ì„¤ì • í”„ë¡œí•„**: ìì£¼ ì‚¬ìš©í•˜ëŠ” ì„¤ì • ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°
- **ë°°ì¹˜ ëª¨ë“œ**: ëŒ€ëŸ‰ íŒŒì¼ ì²˜ë¦¬ ìµœì í™”
- **í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ**: í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜

---

!!! success "Chapter 5 ì™„ë£Œ!"
    2-íŒ¨ë„ ë ˆì´ì•„ì›ƒê³¼ ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°ê°€ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!
    ì´ì œ ì „ë¬¸ì ì¸ íŒŒì¼ ë¦¬ë„¤ì´ë¨¸ì˜ í•µì‹¬ êµ¬ì¡°ê°€ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

!!! tip "ì—°ìŠµ ê³¼ì œ"
    - íŒŒì¼ í¬ê¸°ë³„ í•„í„°ë§ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°
    - ë¯¸ë¦¬ë³´ê¸° ê²°ê³¼ë¥¼ CSVë¡œ ë‚´ë³´ë‚´ê¸°
    - í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì§€ì› ì¶”ê°€í•˜ê¸°
    - ì„¤ì •ì„ JSON íŒŒì¼ë¡œ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°